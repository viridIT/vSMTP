vmstp (1.1.0) UNRELEASED; urgency=low

  [ Updated by ltabis ]
  * Added
    - SMTP Delegation via vsl. (#330)
    - Catching signals and responding accordingly. (#364)
    - An anti relaying vsl function called `check_relay`. (#372)

  * Changed
    - Splitting headers & body for emails to improve performances. (#368)
    - Renamed the `shell` service to `cmd`. (#365)
    - Rename `rcpt` vsl getter to `rcpt_list`. (#374)
    - `rcpt` getter now return the recipient
      from the latest `RCPT TO:` command. (#374)
    - The `quarantine(quarantine_path)` function can no longer get out
      of the application path specified in toml
      by the [app.dirpath] field (#377).
    - Paths specified in vsl need to be absolute. (#380)

  * Fixed
    - `config-show` command now displays tls private key & certificate
      paths correctly. (#367)
    - Minor fixes in the delivery process. (#382)

 -- ltabis <l.tabis@viridit.com>  Mon, 20 Jun 2022 19:27:27 +0200

vmstp (1.0.2) UNRELEASED; urgency=low

  [ Updated by ltabis ]
  * Added
    - doc
      - a 'doe family' example to setup a basic
        vSMTP config for personal purposes. (#320)
    - vsl
      - Sender Policy Framework (SPF) support via the
        `check_spf(ctx, srv, identity)` vsl function. (#327)
      - `accept` & `faccept` functions can now return custom codes. (#328)
    - mail parsing
      - headers pushed to the email are folded if necessary. (#342)
    - sasl
      - support for the anonymous sasl mechanism. (#350)
      - the `get_anonymous_token` vsl function returns
        the token received by the sasl exchange. (#350)
  * Changed
    - delivery
      - AAAA records are used when receiving an empty list of MX records (#321)
      - if a null MX record is received,
        the email is moved to the dead queue (#323)
      - message are separated from metadata / envelop (#335)
    - vsl
      - `base` field from custom codes has been changed to `code`. (#324)
      - `forward` & `forward_all` can now use ip6 string parameters (#341)
        with scope ids. (#356)
    - config
      - `interfaces` section in toml is optional. (#346)
    - mail parsing
      - email are parsed automatically when the email
        is edited via the rule engine. (#347)
  * Fixed
    - logs
      - scoped level now works properly,
        `default` module has been changed to `server`. (#345)
    - quarantine
      - `quarantine(q_folder)` can now be called
        in `postq` & `delivery` stages. (#357)
      - quarantine folder are chowned properly
        using `server.system.user` & `server.system.user`
        config variables. (#344)

 -- ltabis <l.tabis@viridit.com>  Tue, 07 Jun 2022 17:26:09 +0200

vmstp (1.0.1) UNRELEASED; urgency=low

  [ Updated by ltabis ]
  * Rule Engine Enhancements:
    - Preventing variable shadowing for CTX & SRV constants.
    - registered display names for complex objects like CTX & SRV
    - added add_to, remove_to, rewrite_to vsl actions to manipulate
      the 'To' header from a mail. add_rcpt, remove_rcpt & rewrite_rcpt
      no longer change the content of the email body, only those in the envelop.
  * Bug fixes
    - the quarantine action postpone writing to a quarantine queue
      when the message body is received.

 -- ltabis <l.tabis@viridit.com>  Tue, 17 May 2022 10:40:31 +0100

vmstp (1.0.0) UNRELEASED; urgency=low

  [ Updated by ltabis ]
  * Initial release:
    - RFC compliant Mail Transfer Agent.
    - Filtering system using a custom scripting language (vsl).
    - Services system (shell & csv databases).

 -- Pag <pag@viridit.com>  Sat, 7 May 2022 00:37:31 +0100
